var Le=t=>{throw TypeError(t)};var xe=(t,e,i)=>e.has(t)||Le("Cannot "+i);var R=(t,e,i)=>(xe(t,e,"read from private field"),i?i.call(t):e.get(t)),j=(t,e,i)=>e.has(t)?Le("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),se=(t,e,i,l)=>(xe(t,e,"write to private field"),l?l.call(t,i):e.set(t,i),i),M=(t,e,i)=>(xe(t,e,"access private method"),i);import{r as D,t as Ne,c as $,o as Oe,a as je,b as h,d as g,e as r,f as k,n as N,F as re,g as le,w as fe,u as s,h as P,i as me,v as Ce,j as He,m as Te,k as we,l as pe,p as H,q as Ue,s as ot,x as rt}from"./vue-vendor-T3y8gaLV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=i(a);fetch(a.href,o)}})();const _e={development:{baseURL:"http://localhost:3000/api",timeout:5e3},production:{baseURL:"/api",timeout:1e4}},qe="development",ge={..._e[qe]},Y={JSON:"application/json",TEXT:"text/plain",WIREGUARD:"application/x-wireguard-config",IMAGE:"image/"},nt={[Y.JSON]:t=>t.json(),[Y.TEXT]:t=>t.text(),[Y.WIREGUARD]:t=>t.blob(),[Y.IMAGE]:t=>t.blob()};async function ie(t,e={}){var a;const i=new AbortController,l=setTimeout(()=>i.abort(),ge.timeout);try{const o=await fetch(`${ge.baseURL}${t}`,{...e,headers:{"Content-Type":Y.JSON,...e.headers},signal:i.signal});if(!o.ok){const b=new Error(`HTTP error! status: ${o.status}`);throw b.status=o.status,b}const d=o.headers.get("content-type"),c=(a=Object.entries(nt).find(([b])=>d==null?void 0:d.includes(b)))==null?void 0:a[1];return c?c(o):o.text()}catch(o){throw o.name==="AbortError"?new Error(`Request timeout after ${ge.timeout}ms`):o}finally{clearTimeout(l)}}const ce={setMode:t=>{if(!_e[t])throw new Error(`Invalid mode: ${t}. Use 'development' or 'production'`);Object.assign(ge,_e[t])},getMode:()=>qe,getServers:()=>ie("/servers"),generateKey:t=>ie("/key",{method:"POST",body:JSON.stringify({token:t})}),generateConfig:t=>ie("/config",{method:"POST",body:JSON.stringify(t)}).then(e=>typeof e=="object"?JSON.stringify(e):e),downloadConfig:t=>ie("/config/download",{method:"POST",body:JSON.stringify(t),headers:{Accept:Y.WIREGUARD}}),generateQR:t=>ie("/config/qr",{method:"POST",body:JSON.stringify(t),headers:{Accept:Y.IMAGE}})},K={WORD_NUMBER:/^([a-z]+)(\d+)?$/i,SERVER_NAME:/[\/\\:*?"<>|#]/g,MULTIPLE_UNDERSCORES:/_+/g,EDGE_UNDERSCORES:/^_|_$/g,IPV4:/^(\d{1,3}\.){3}\d{1,3}$/,PRIVATE_KEY:/^[A-Za-z0-9+/]{43}=$/,TOKEN:/^[a-f0-9]{64}$/i,NON_HEX:/[^a-f0-9]/g},de=t=>t?t.split("_").map(e=>{const[,i,l]=e.match(K.WORD_NUMBER)||[null,e];return i.charAt(0).toUpperCase()+i.slice(1)+(l?` ${l}`:"")}).join(" "):"",ze=t=>t.toLowerCase().replace(K.SERVER_NAME,"_").replace(K.MULTIPLE_UNDERSCORES,"_").replace(K.EDGE_UNDERSCORES,""),at=(t,e)=>{let i;return(...l)=>{clearTimeout(i),i=setTimeout(()=>t(...l),e)}},T={PRIVATE_KEY:{REGEX:K.PRIVATE_KEY,ERROR:"Invalid private key format",validate:t=>!t||K.PRIVATE_KEY.test(t)},DNS:{IPV4_REGEX:K.IPV4,ERROR:"Invalid IPv4 address",validate:t=>t?t.split(",").every(e=>{const i=e.trim();return K.IPV4.test(i)&&i.split(".").every(l=>{const a=parseInt(l);return a>=0&&a<=255})}):!0},KEEPALIVE:{MIN:15,MAX:120,ERROR:"Must be between 15 and 120",validate:t=>{if(!t)return!0;const e=parseInt(t);return!isNaN(e)&&e>=T.KEEPALIVE.MIN&&e<=T.KEEPALIVE.MAX}},TOKEN:{REGEX:K.TOKEN,ERROR:"Token must contain only hexadecimal characters (0-9, a-f) and be 64 characters long",validate:t=>!t||K.TOKEN.test(t),sanitize:t=>t?t.toLowerCase().replace(K.NON_HEX,"").slice(0,64):""}},Me=100,De={load:(t,e)=>t.load-e.load,country:(t,e)=>t.displayCountry.localeCompare(e.displayCountry),city:(t,e)=>t.displayCity.localeCompare(e.displayCity),name:(t,e)=>t.displayName.localeCompare(e.displayName)},st=(t,e,i)=>({...t,country:e,city:i,displayName:de(t.name),displayCountry:de(e),displayCity:de(i)});function it(){const t=D({allServers:[],visibleServers:[],isLoading:!1,sortBy:"name",sortOrder:"asc",filterCountry:"",filterCity:""}),{allServers:e,visibleServers:i,isLoading:l,sortBy:a,sortOrder:o,filterCountry:d,filterCity:c}=Ne(t.value),b=f=>$(()=>[...new Set(e.value.map(_=>_[f]))].sort()),O=b("country"),m=b("city"),w=$(()=>d.value?[...new Set(e.value.filter(f=>f.country===d.value).map(f=>f.city))].sort():[]),v=$(()=>{try{let f=e.value;(d.value||c.value)&&(f=f.filter(U=>(!d.value||U.country===d.value)&&(!c.value||U.city===c.value)));const _=De[a.value]||De.name,L=o.value==="asc"?1:-1;return f.sort((U,W)=>_(U,W)*L)}catch{return[]}}),x=$(()=>v.value.length),E=()=>{i.value=v.value.slice(0,Me)};return{allServers:e,visibleServers:i,isLoading:l,sortBy:a,sortOrder:o,filterCountry:d,filterCity:c,countries:O,cities:m,citiesForCountry:w,sortedServers:v,filteredCount:x,updateVisibleServers:E,loadMoreServers:()=>{if(!l.value){const f=i.value.length,_=v.value.slice(f,f+Me);_.length&&i.value.push(..._)}},toggleSort:f=>{a.value===f?o.value=o.value==="asc"?"desc":"asc":(a.value=f,o.value="asc")},loadServers:async()=>{try{l.value=!0;const f=await ce.getServers();e.value=Object.entries(f).flatMap(([_,L])=>Object.entries(L).flatMap(([U,W])=>W.map(ae=>st(ae,_,U)))),E()}catch(f){throw f}finally{l.value=!1}}}}const X=new EventTarget;var Q,ne,Z,J,G,A,Se,Ye,Xe,ke,Qe,Ze;class lt{constructor(){j(this,A);j(this,Q,!1);j(this,ne,null);j(this,Z,"secure_");j(this,J,null);j(this,G,localStorage);se(this,J,null)}async set(e,i){try{return R(this,Q)||await M(this,A,Se).call(this),await M(this,A,Qe).call(this,e,i),X.dispatchEvent(new CustomEvent("storage",{detail:{key:e}})),!0}catch{return!1}}async get(e){try{return R(this,Q)||await M(this,A,Se).call(this),await M(this,A,Ze).call(this,e)}catch{return null}}remove(e){R(this,G).removeItem(R(this,Z)+e),X.dispatchEvent(new CustomEvent("storage",{detail:{key:e}}))}clear(){Object.keys(R(this,G)).filter(e=>e.startsWith(R(this,Z))).forEach(e=>R(this,G).removeItem(e)),X.dispatchEvent(new CustomEvent("storage"))}}Q=new WeakMap,ne=new WeakMap,Z=new WeakMap,J=new WeakMap,G=new WeakMap,A=new WeakSet,Se=function(){return R(this,J)||se(this,J,M(this,A,Ye).call(this).catch(console.error)),R(this,J)},Ye=async function(){if(R(this,Q))return;const[e]=await Promise.all([M(this,A,ke).call(this,!1),M(this,A,ke).call(this,!0)]);se(this,ne,e),se(this,Q,!0)},Xe=function(){const e=document.createElement("canvas").getContext("webgl")||document.createElement("canvas").getContext("experimental-webgl");if(!e)throw new Error("WebGL not supported");const i=[e.VERSION,e.SHADING_LANGUAGE_VERSION,e.VENDOR,e.RENDERER,e.MAX_TEXTURE_SIZE,e.MAX_RENDERBUFFER_SIZE,e.MAX_VERTEX_ATTRIBS].map(l=>e.getParameter(l));return i.push(e.getSupportedExtensions().join()),i.join("|")},ke=async function(e){const i=M(this,A,Xe).call(this),l=e?[...i].reverse().join(""):i,a=await crypto.subtle.importKey("raw",new TextEncoder().encode(l),{name:"PBKDF2"},!1,["deriveBits"]),o=await crypto.subtle.deriveBits({name:"PBKDF2",salt:new TextEncoder().encode(`nord-${e?"backup":"main"}`),iterations:11e4,hash:"SHA-256"},a,256),d=new Uint8Array(o);for(let c=0;c<d.length;c++)d[c]^=d[(c+1)%d.length];return crypto.subtle.importKey("raw",d,{name:"AES-GCM"},!0,["encrypt","decrypt"])},Qe=async function(e,i){const l=crypto.getRandomValues(new Uint8Array(12)),a=await crypto.subtle.encrypt({name:"AES-GCM",iv:l},R(this,ne),new TextEncoder().encode(JSON.stringify(i))),o=new Uint8Array(l.length+a.byteLength);o.set(l),o.set(new Uint8Array(a),l.length),R(this,G).setItem(R(this,Z)+e,btoa(String.fromCharCode(...o)))},Ze=async function(e){const i=R(this,G).getItem(R(this,Z)+e);if(!i)return null;const l=new Uint8Array(atob(i).split("").map(o=>o.charCodeAt(0))),a=await crypto.subtle.decrypt({name:"AES-GCM",iv:l.slice(0,12)},R(this,ne),l.slice(12));return JSON.parse(new TextDecoder().decode(a))};const Ve=new lt,Ee={CONFIG:"wireguard_config",SERVERS:"servers_list",TOKEN:"nord_token"},I={privateKey:"",dns:"103.86.96.100",endpoint:"hostname",keepalive:25},Ge=t=>!t||typeof t!="object"||!["privateKey","dns","endpoint","keepalive"].every(i=>i in t)?!1:(!t.privateKey||T.PRIVATE_KEY.validate(t.privateKey))&&T.DNS.validate(t.dns)&&["hostname","station"].includes(t.endpoint)&&T.KEEPALIVE.validate(t.keepalive),Re=(t,e)=>({country:ze(t.country),city:ze(t.city),name:t.name,privateKey:(e==null?void 0:e.privateKey)||"",dns:((e==null?void 0:e.dns)||I.dns).split(",").map(i=>i.trim()).join(", "),endpoint:(e==null?void 0:e.endpoint)||I.endpoint,keepalive:+((e==null?void 0:e.keepalive)??I.keepalive)});function dt(){const t=D({configSettings:{...I},error:null,lastToast:null}),{configSettings:e,error:i,lastToast:l}=Ne(t.value),a=({detail:m})=>{e.value={...I},l.value={message:`Configuration reset: ${m.reason}`,type:"warning"}},o=({detail:{invalidKeys:m}})=>{m.includes(Ee.CONFIG)&&(e.value={...I},l.value={message:"Configuration was tampered with and has been reset",type:"error"})};return Oe(()=>{X.addEventListener("storage-reset",a),X.addEventListener("storage-tampered",o)}),je(()=>{X.removeEventListener("storage-reset",a),X.removeEventListener("storage-tampered",o)}),{configSettings:e,error:i,defaultConfig:I,lastToast:l,loadSavedConfig:async()=>{try{const m=await Ve.get(Ee.CONFIG);if(!m)return e.value={...I},null;if(!Ge(m))throw new Error("Invalid configuration format");return e.value={...I,...m,dns:m.dns||I.dns,endpoint:m.endpoint||I.endpoint,keepalive:m.keepalive??I.keepalive},null}catch{return e.value={...I},{message:"Config reset due to invalid format. Please reconfigure.",type:"warning"}}},saveConfig:async m=>{try{if(!Ge(m))throw new Error("Invalid configuration format");const w={...m,dns:m.dns||I.dns,endpoint:m.endpoint||I.endpoint,keepalive:m.keepalive??I.keepalive};return await Ve.set(Ee.CONFIG,w),e.value=w,{message:"Configuration saved successfully",type:"success"}}catch(w){throw new Error(w.message||"Failed to save configuration")}},downloadConfig:async m=>{try{const w=Re(m,e.value),v=new Blob([await ce.downloadConfig(w)],{type:"application/x-wireguard-config"}),x=URL.createObjectURL(v),E=document.createElement("a");return E.href=x,E.download=`${m.name}.conf`,E.click(),URL.revokeObjectURL(x),{message:"Configuration downloaded",type:"success"}}catch(w){throw new Error(w.message||"Failed to download configuration")}},copyConfig:async m=>{try{const w=await ce.generateConfig(Re(m,e.value));return await navigator.clipboard.writeText(w),{message:"Configuration copied to clipboard",type:"success"}}catch(w){throw new Error(w.message||"Failed to copy configuration")}}}}const ct=200,ut={top:0,behavior:"smooth"},V={CUSTOMIZER:"showCustomizer",KEY_GENERATOR:"showKeyGenerator",QR_CODE:"showQrCode"};function vt(){const t=D({isPanelOpen:!1,isDebouncing:!1,showScrollTop:!1,[V.CUSTOMIZER]:!1,[V.KEY_GENERATOR]:!1,[V.QR_CODE]:!1,qrCodeUrl:"",selectedServer:null}),{isPanelOpen:e,isDebouncing:i,showScrollTop:l,showCustomizer:a,showKeyGenerator:o,showQrCode:d,qrCodeUrl:c,selectedServer:b}=Ne(t.value),O=()=>e.value&&(e.value=!1),m=()=>{i.value||(i.value=!0,e.value=!e.value,setTimeout(()=>{i.value=!1},ct))},w=f=>{e.value=!1,t.value[f]=!0};return{isPanelOpen:e,showScrollTop:l,showCustomizer:a,showKeyGenerator:o,showQrCode:d,qrCodeUrl:c,selectedServer:b,closePanel:O,togglePanel:m,scrollToTop:()=>window.scrollTo(ut),openCustomizer:()=>w(V.CUSTOMIZER),openKeyGenerator:()=>w(V.KEY_GENERATOR),handleGenerateKey:f=>{b.value=f,t.value[V.KEY_GENERATOR]=!0},handleShowQR:async(f,_)=>{try{b.value=f,t.value[V.QR_CODE]=!0,c.value&&URL.revokeObjectURL(c.value),c.value=URL.createObjectURL(await _())}catch(L){throw t.value[V.QR_CODE]=!1,L}},cleanup:()=>c.value&&URL.revokeObjectURL(c.value)}}const pt=2e3,mt=100,Be={success:{bg:"bg-nord-success-bg",text:"text-nord-success-text",border:"border-nord-success-text/20",shadow:"shadow-nord-success-text/10"},error:{bg:"bg-nord-load-critical-bg",text:"text-nord-load-critical-text",border:"border-nord-load-critical-text/20",shadow:"shadow-nord-load-critical-text/10"},info:{bg:"bg-nord-bg-overlay",text:"text-nord-text-primary",border:"border-nord-text-primary/20",shadow:"shadow-nord-text-primary/10"}};function gt(){const t=D(null);let e;return{toast:t,show:(a,o="info")=>{if(!a)return;const d=a instanceof Error?a.message.split(`
`)[0]:String(a).slice(0,mt);clearTimeout(e),t.value={message:d,type:o,styles:Be[o]||Be.info},e=setTimeout(()=>t.value=null,pt)},clear:()=>{clearTimeout(e),t.value=null}}}const B={close:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",menu:"M0 9v2h50V9Zm0 15v2h50v-2Zm0 15v2h50v-2Z",settings:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.49.49 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.63-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6",arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z",eye:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z",eyeOff:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z",copy:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 16H5V5h2v2h10V5h2v14z",check:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",key:"M12.65 10A5.99 5.99 0 0 0 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6a5.99 5.99 0 0 0 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2",downloadConfig:"M12.5 4C10.032 4 8 6.032 8 8.5v31c0 2.468 2.032 4.5 4.5 4.5h23c2.468 0 4.5-2.032 4.5-4.5v-21a1.5 1.5 0 0 0-.44-1.06l-.015-.016L26.56 4.439A1.5 1.5 0 0 0 25.5 4zm0 3H24v8.5c0 2.468 2.032 4.5 4.5 4.5H37v19.5c0 .846-.654 1.5-1.5 1.5h-23c-.846 0-1.5-.654-1.5-1.5v-31c0-.846.654-1.5 1.5-1.5M27 9.121 34.879 17H28.5c-.846 0-1.5-.654-1.5-1.5zM23.977 21.98A1.5 1.5 0 0 0 22.5 23.5v6.379l-1.44-1.44a1.5 1.5 0 1 0-2.12 2.122l4 4a1.5 1.5 0 0 0 1.08.439 1.5 1.5 0 0 0 1.04-.44l4-4a1.5 1.5 0 1 0-2.122-2.12L25.5 29.878V23.5a1.5 1.5 0 0 0-1.523-1.521M24.02 35H17.5a1.5 1.5 0 1 0 0 3h13a1.5 1.5 0 1 0 0-3z",copyConfig:"M4 2a2 2 0 0 0-2 2v14h2V4h14V2zm4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 2h12v12H8z",showQr:"M4 3a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zm7 0v2h2V3zm5 0a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1zM5 5h2v2H5zm12 0h2v2h-2zm-6 2v2h2V7zm-8 4v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2zm2 2v2h2v-2zm2 0h2v-2h-2zm2 0v2h2v-2zm2 0h2v-2h-2zm0 2v2h2v-2zm0 2h-2v2h2zm0 2v2h2v-2zm-2 0h-2v2h2zm-2 0v-2h-2v2zm-2 0h-2v2h2zm0-2v-2h-2v2zm2 0h2v-2h-2zM4 15a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1zm1 2h2v2H5z",info:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",error:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",github:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12",nord:"m16.901 21.064 4.022 6.154-1.538-4.615L24 14.91l6.154 10.769-.732-3.482.732-1.133 9.522 15.474A19.9 19.9 0 0 0 44 24.14c0-11.046-8.954-20-20-20s-20 8.954-20 20c0 4.375 1.421 8.41 3.805 11.702z"},ft={class:"p-2.5 bg-nord-bg-card border-l-2 border-transparent md:hover:border-nord-button-primary md:hover:bg-nord-bg-hover cursor-pointer group transition-colors",role:"article"},bt={class:"flex justify-between items-start gap-2"},yt={class:"min-w-0"},ht={class:"font-medium text-nord-text-primary truncate"},xt={class:"text-sm text-nord-text-secondary truncate"},wt={class:"flex items-center gap-1 shrink-0",role:"group","aria-label":"Server actions"},Et={class:"flex gap-0.5"},Ct=["onClick","aria-label"],Tt=["viewBox"],_t=["d"],St={__name:"ServerCard",props:{name:{type:String,required:!0},country:{type:String,required:!0},city:{type:String,required:!0},load:{type:Number,required:!0,validator:t=>t>=0&&t<=100}},emits:["generate-key","download-config","copy-config","show-qr"],setup(t){const e=[{threshold:20,style:"bg-nord-load-low-bg text-nord-load-low-text"},{threshold:40,style:"bg-nord-load-medium-bg text-nord-load-medium-text"},{threshold:60,style:"bg-nord-load-warning-bg text-nord-load-warning-text"},{threshold:80,style:"bg-nord-load-high-bg text-nord-load-high-text"}],i=[{name:"download-config",label:"Download configuration",icon:"downloadConfig",viewBox:"0 0 48 48"},{name:"copy-config",label:"Copy configuration",icon:"copyConfig",viewBox:"0 0 24 24"},{name:"show-qr",label:"Show QR code",icon:"showQr",viewBox:"0 0 24 24"}],l=t,a=$(()=>{var d;return((d=e.find(({threshold:c})=>l.load<=c))==null?void 0:d.style)??"bg-nord-load-critical-bg text-nord-load-critical-text"});return(o,d)=>(g(),h("article",ft,[r("div",bt,[r("div",yt,[r("h3",ht,k(t.name),1),r("p",xt,k(t.country)+" - "+k(t.city),1)]),r("div",wt,[r("span",{class:N(["text-xs px-1.5 py-0.5 rounded whitespace-nowrap font-medium",a.value]),role:"status","aria-label":"Server load"},k(t.load)+"% ",3),r("div",Et,[(g(),h(re,null,le(i,({name:c,label:b,icon:O,viewBox:m})=>r("button",{key:c,onClick:fe(w=>o.$emit(c),["stop"]),class:"p-1 rounded active:scale-125 transition-transform md:hover:bg-nord-bg-active text-nord-text-primary","aria-label":b},[(g(),h("svg",{class:"h-4 w-4",viewBox:m,fill:"currentColor",role:"img","aria-hidden":"true"},[r("path",{d:s(B)[O]},null,8,_t)],8,Tt))],8,Ct)),64))])])])]))}},kt={class:"min-h-screen bg-vscode-bg text-vscode-text",role:"dialog","aria-labelledby":"config-customizer-title"},Rt={class:"space-y-6",role:"group","aria-label":"Configuration options"},Nt={class:"space-y-2"},Ot={class:"relative"},It=["value","type","aria-invalid","aria-describedby"],At=["aria-label"],Kt={class:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",role:"img","aria-hidden":"true"},$t=["d"],Pt={key:0,id:"private-key-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},Lt={class:"space-y-2"},Ut=["value","placeholder","aria-invalid","aria-describedby"],zt={key:0,id:"dns-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},Mt={class:"space-y-2"},Dt=["value"],Vt={class:"space-y-2"},Gt={for:"keepalive",class:"block text-sm font-medium text-nord-text-primary"},Bt=["value","min","max","placeholder","aria-invalid","aria-describedby"],Ft={key:0,id:"keepalive-error",class:"text-xs text-nord-text-error mt-1 font-medium",role:"alert"},jt={class:"fixed bottom-0 left-0 right-0 bg-vscode-header border-t border-vscode-active p-4"},Ht={class:"container mx-auto max-w-2xl flex justify-end gap-3"},qt=["disabled"],Yt={__name:"ConfigCustomizer",props:{defaultConfig:{type:Object,required:!0,validator:t=>["dns","endpoint","keepalive"].every(e=>e in t)},savedConfig:{type:Object,required:!0,validator:t=>["privateKey","dns","endpoint","keepalive"].every(e=>e in t||e===void 0)}},emits:["save","cancel"],setup(t,{emit:e}){const i=[{value:"hostname",label:"Hostname"},{value:"station",label:"IP"}],l={INPUT_BASE:"w-full bg-vscode-bg border rounded px-3 py-2 text-sm outline-none transition-colors",INPUT_ERROR:"border-nord-text-error focus:border-nord-text-error focus:ring-2 focus:ring-nord-ring-error/30 text-nord-text-error",INPUT_DEFAULT:"border-nord-button-secondary focus:border-nord-button-primary focus:ring-2 focus:ring-nord-ring-primary/30 text-nord-text-primary",BUTTON_BASE:"min-w-touch min-h-touch px-4 py-2 rounded transition-colors"},a=t,o=e,d=D({privateKey:a.savedConfig.privateKey??"",dns:a.savedConfig.dns??"",endpoint:a.savedConfig.endpoint??a.defaultConfig.endpoint,keepalive:a.savedConfig.keepalive??""}),c=D({privateKey:"",dns:"",keepalive:""}),b=D(!1),O=$(()=>{const{privateKey:C,dns:p,endpoint:y,keepalive:f}=d.value,_=a.savedConfig,L=a.defaultConfig;return C!==(_.privateKey??"")||p!==(_.dns??"")||y!==(_.endpoint??L.endpoint)||f!==(_.keepalive??"")}),m=$(()=>{const C=!Object.values(c.value).some(y=>y),p=T.PRIVATE_KEY.validate(d.value.privateKey)&&T.DNS.validate(d.value.dns)&&T.KEEPALIVE.validate(d.value.keepalive);return C&&p&&O.value}),w=$(()=>{const{privateKey:C,dns:p,endpoint:y,keepalive:f}=a.savedConfig,_=a.defaultConfig;return!!(C||p&&p!==_.dns||y&&y!==_.endpoint||f&&f!==_.keepalive)}),v=(C,p)=>{d.value[C]=p;const y={privateKey:()=>T.PRIVATE_KEY.validate(p)?"":T.PRIVATE_KEY.ERROR,dns:()=>T.DNS.validate(p)?"":T.DNS.ERROR,keepalive:()=>T.KEEPALIVE.validate(p)?"":T.KEEPALIVE.ERROR};C in y&&(c.value[C]=y[C]())},x=()=>{if(m.value){const{dns:C,keepalive:p,endpoint:y}=a.defaultConfig;o("save",{...d.value,dns:d.value.dns||C,keepalive:d.value.keepalive||p,endpoint:d.value.endpoint||y})}},E=()=>{d.value={privateKey:"",dns:"",endpoint:a.defaultConfig.endpoint,keepalive:""},c.value={privateKey:"",dns:"",keepalive:""}};return(C,p)=>(g(),h("div",kt,[p[9]||(p[9]=r("header",{class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg"},[r("div",{class:"px-4 h-14 flex items-center"},[r("h1",{id:"config-customizer-title",class:"text-lg font-medium"},"Customize Configuration")])],-1)),r("form",{onSubmit:fe(x,["prevent"]),class:"container mx-auto px-4 py-6 max-w-2xl"},[r("div",Rt,[r("div",Nt,[p[6]||(p[6]=r("label",{for:"private-key",class:"block text-sm font-medium text-nord-text-primary"},"Private Key",-1)),r("div",Ot,[r("input",{id:"private-key",value:d.value.privateKey,onInput:p[0]||(p[0]=y=>v("privateKey",y.target.value)),type:b.value?"text":"password",placeholder:"YOUR_PRIVATE_KEY",class:N([l.INPUT_BASE,c.value.privateKey?l.INPUT_ERROR:l.INPUT_DEFAULT]),"aria-invalid":!!c.value.privateKey,"aria-describedby":c.value.privateKey?"private-key-error":void 0},null,42,It),r("button",{type:"button",onClick:p[1]||(p[1]=y=>b.value=!b.value),class:"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 text-nord-text-primary/70 hover:text-nord-text-primary transition-colors outline-none","aria-label":b.value?"Hide private key":"Show private key"},[(g(),h("svg",Kt,[r("path",{d:b.value?s(B).eye:s(B).eyeOff},null,8,$t)]))],8,At)]),c.value.privateKey?(g(),h("p",Pt,k(c.value.privateKey),1)):P("",!0)]),r("div",Lt,[p[7]||(p[7]=r("label",{for:"dns",class:"block text-sm font-medium text-nord-text-primary"},"DNS",-1)),r("input",{id:"dns",value:d.value.dns,onInput:p[2]||(p[2]=y=>v("dns",y.target.value)),type:"text",placeholder:`${t.defaultConfig.dns} (e.g., 103.86.96.100, 8.8.8.8)`,class:N([l.INPUT_BASE,c.value.dns?l.INPUT_ERROR:l.INPUT_DEFAULT]),"aria-invalid":!!c.value.dns,"aria-describedby":c.value.dns?"dns-error":void 0},null,42,Ut),c.value.dns?(g(),h("p",zt,k(c.value.dns),1)):P("",!0)]),r("div",Mt,[p[8]||(p[8]=r("label",{for:"endpoint",class:"block text-sm font-medium text-nord-text-primary"},"Endpoint Type",-1)),me(r("select",{id:"endpoint","onUpdate:modelValue":p[3]||(p[3]=y=>d.value.endpoint=y),class:N([l.INPUT_BASE,l.INPUT_DEFAULT,"appearance-none cursor-pointer"])},[(g(),h(re,null,le(i,y=>r("option",{key:y.value,value:y.value},k(y.label),9,Dt)),64))],2),[[Ce,d.value.endpoint]])]),r("div",Vt,[r("label",Gt," Keepalive ("+k(s(T).KEEPALIVE.MIN)+"-"+k(s(T).KEEPALIVE.MAX)+" seconds) ",1),r("input",{id:"keepalive",value:d.value.keepalive,onInput:p[4]||(p[4]=y=>v("keepalive",y.target.value)),type:"number",min:s(T).KEEPALIVE.MIN,max:s(T).KEEPALIVE.MAX,placeholder:t.defaultConfig.keepalive.toString(),class:N([l.INPUT_BASE,c.value.keepalive?l.INPUT_ERROR:l.INPUT_DEFAULT,"[appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"]),"aria-invalid":!!c.value.keepalive,"aria-describedby":c.value.keepalive?"keepalive-error":void 0},null,42,Bt),c.value.keepalive?(g(),h("p",Ft,k(c.value.keepalive),1)):P("",!0)])]),r("div",jt,[r("div",Ht,[r("button",{type:"submit",disabled:!m.value,class:N([l.BUTTON_BASE,"text-white",m.value?"bg-nord-button-primary hover:bg-nord-button-primary-hover focus:ring-2 focus:ring-nord-ring-primary/50":"bg-nord-button-primary/40 cursor-not-allowed"]),"aria-label":"Save configuration"}," Save ",10,qt),r("button",{type:"button",onClick:p[5]||(p[5]=y=>C.$emit("cancel")),class:N([l.BUTTON_BASE,"border border-nord-button-secondary hover:bg-nord-bg-hover focus:ring-2 focus:ring-nord-ring-secondary/50"]),"aria-label":"Cancel changes"}," Cancel ",2),w.value?(g(),h("button",{key:0,type:"button",onClick:E,class:N([l.BUTTON_BASE,"border border-nord-button-secondary hover:bg-nord-bg-hover text-nord-text-secondary focus:ring-2 focus:ring-nord-ring-secondary/50"]),"aria-label":"Reset to default values"}," Reset ",2)):P("",!0)])])],32)]))}},Xt={class:"min-h-[100dvh] bg-vscode-bg text-vscode-text flex flex-col"},Qt={class:"flex-1 overflow-auto"},Zt={class:"container mx-auto p-6 max-w-2xl"},Jt={key:0,class:"space-y-4"},Wt={class:"space-y-2"},eo={class:"relative"},to=["value","type","aria-invalid","aria-describedby"],oo=["aria-label"],ro={class:"w-4 h-4",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},no=["d"],ao={key:0,id:"token-error",class:"text-sm text-nord-text-error",role:"alert"},so={key:1,class:"bg-vscode-bg rounded-lg border border-vscode-active overflow-hidden"},io={class:"p-4 font-mono text-base"},lo={key:0,class:"text-nord-text-error font-medium"},co={class:"bg-vscode-header border-t border-vscode-active p-4"},uo={class:"container mx-auto max-w-2xl flex justify-end gap-3"},vo=["disabled"],po={__name:"KeyGenerator",emits:["save","cancel"],setup(t,{emit:e}){const i={DEBOUNCE:300},l=e,a={INVALID_TOKEN:"Invalid token format. Must be 64 hexadecimal characters.",INVALID_TOKEN_API:"Invalid token. The token you provided is not valid.",CONNECTION:"Failed to connect to the server. Please try again.",EMPTY_TOKEN:"Please enter a token"},o=D({error:"",isLoading:!1,token:"",debouncedToken:"",inputToken:"",showToken:!1,showResult:!1}),d=$(()=>{if(!o.value.debouncedToken)return"";const v=o.value.debouncedToken;return v.length!==64?"Token must be exactly 64 characters long":T.TOKEN.REGEX.test(v)?"":"Token must contain only hexadecimal characters (0-9, a-f)"});let c;const b=v=>{const x=v.target.value,E=v.target.selectionStart,C=T.TOKEN.sanitize(x);o.value.inputToken=C,requestAnimationFrame(()=>{v.target.value=C,v.target.setSelectionRange(E,E)}),clearTimeout(c),c=setTimeout(()=>{o.value.debouncedToken=o.value.token=C},i.DEBOUNCE)},O=v=>{v.preventDefault();const x=T.TOKEN.sanitize(v.clipboardData.getData("text"));Object.assign(o.value,{inputToken:x,debouncedToken:x,token:x})},m=async()=>{if(!T.TOKEN.REGEX.test(o.value.token))return o.value.error=a.INVALID_TOKEN,null;try{o.value.isLoading=!0,o.value.error="";const{key:v}=await ce.generateKey(o.value.token);if(!(v!=null&&v.length)||v.length<32)throw new Error(a.INVALID_KEY);return o.value.showResult=!0,v}catch(v){return o.value.showResult=!0,o.value.error=v.status===401?a.INVALID_TOKEN_API:a.CONNECTION,null}finally{o.value.isLoading=!1}},w=async()=>{if(!o.value.token){o.value.error=a.EMPTY_TOKEN;return}const v=await m();v&&l("save",v)};return He(()=>clearTimeout(c)),(v,x)=>(g(),h("div",Xt,[x[5]||(x[5]=r("header",{class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg"},[r("div",{class:"px-6 h-14 flex items-center"},[r("h1",{class:"text-lg font-medium"},"Generate Private Key")])],-1)),r("div",Qt,[r("div",Zt,[o.value.showResult?(g(),h("div",so,[x[4]||(x[4]=r("div",{class:"bg-black/30 px-4 py-2 text-sm font-medium border-b border-vscode-active"},"Terminal",-1)),r("div",io,[o.value.error?(g(),h("div",lo," Error: "+k(o.value.error),1)):P("",!0)])])):(g(),h("div",Jt,[r("div",Wt,[x[3]||(x[3]=r("label",{for:"auth-token",class:"block text-base font-medium text-nord-text-primary"},"Auth Token",-1)),r("div",eo,[r("input",{id:"auth-token",value:o.value.inputToken,onInput:b,onPaste:O,onKeypress:x[0]||(x[0]=E=>{(!/^[a-fA-F0-9]$/.test(E.key)||o.value.inputToken.length>=64&&E.target.selectionStart===E.target.selectionEnd)&&E.preventDefault()}),maxlength:"64",type:o.value.showToken?"text":"password",placeholder:"token",class:N(["h-11 w-full bg-vscode-bg border rounded px-4 pr-12 outline-none transition-colors text-sm",o.value.debouncedToken&&(d.value||o.value.error)?"border-nord-text-error focus:border-nord-text-error focus:ring-2 focus:ring-nord-ring-error/30 text-nord-text-error":"border-nord-button-secondary focus:border-nord-button-primary focus:ring-2 focus:ring-nord-ring-primary/30 text-nord-text-primary"]),"aria-invalid":!!(o.value.debouncedToken&&(d.value||o.value.error)),"aria-describedby":o.value.debouncedToken&&(d.value||o.value.error)?"token-error":void 0},null,42,to),r("button",{type:"button",onClick:x[1]||(x[1]=E=>o.value.showToken=!o.value.showToken),class:"absolute right-2.5 top-1/2 -translate-y-1/2 p-1 text-nord-text-primary/70 hover:text-nord-text-primary transition-colors outline-none","aria-label":o.value.showToken?"Hide token":"Show token"},[(g(),h("svg",ro,[r("path",{fill:"currentColor",d:o.value.showToken?s(B).eye:s(B).eyeOff},null,8,no)]))],8,oo)]),o.value.debouncedToken&&(d.value||o.value.error)?(g(),h("p",ao,k(d.value||o.value.error),1)):P("",!0)])]))])]),r("div",co,[r("div",uo,[o.value.showResult?P("",!0):(g(),h("button",{key:0,type:"button",onClick:w,disabled:o.value.isLoading||!o.value.token||!!d.value,class:N(["min-w-touch min-h-touch px-4 py-2 rounded transition-colors focus:outline-none focus:ring-2 text-white",o.value.isLoading||!o.value.token||d.value?"bg-nord-button-primary/40 cursor-not-allowed":"bg-nord-button-primary hover:bg-nord-button-primary-hover focus:ring-nord-ring-primary/50"])}," Generate ",10,vo)),r("button",{onClick:x[2]||(x[2]=E=>v.$emit("cancel")),class:"min-w-touch min-h-touch px-4 py-2 rounded transition-colors focus:outline-none focus:ring-2 border border-nord-button-secondary hover:bg-nord-bg-hover focus:ring-nord-ring-secondary/50"},k(o.value.showResult?"Close":"Cancel"),1)])])]))}},mo={class:"px-4 py-2 rounded border border-current shadow-lg flex items-center gap-2"},go={class:"w-4 h-4",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},fo=["d"],bo={class:"text-sm"},yo=200,ho=2e3,xo={__name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"info",validator:t=>["info","success","error"].includes(t)}},emits:["close"],setup(t,{emit:e}){const i=e,l=D(!1);let a,o;const d={info:"bg-nord-bg-overlay border-nord-text-primary/20 text-nord-text-primary shadow-nord-text-primary/10",success:"bg-nord-success-bg border-nord-success-text/20 text-nord-success-text shadow-nord-success-text/10",error:"bg-nord-load-critical-bg border-nord-load-critical-text/20 text-nord-load-critical-text shadow-nord-load-critical-text/10"},c={success:"check",error:"error",info:"info"};return Oe(()=>{requestAnimationFrame(()=>{l.value=!0,a=setTimeout(()=>{l.value=!1,o=setTimeout(()=>i("close"),yo)},ho)})}),He(()=>{clearTimeout(a),clearTimeout(o)}),(b,O)=>(g(),h("div",{class:N(["fixed bottom-4 right-4 z-[100] transition-transform transition-opacity duration-200",[l.value?"translate-y-0 opacity-100":"translate-y-2 opacity-0",d[t.type]]]),role:"alert"},[r("div",mo,[(g(),h("svg",go,[r("path",{fill:"currentColor",d:s(B)[c[t.type]]},null,8,fo)])),r("span",bo,k(t.message),1)])],2))}},wo=["viewBox"],Eo=["d"],Fe=24,q={__name:"Icon",props:{name:{type:String,required:!0,validator:t=>t in B},size:{type:[String,Number],default:Fe,validator:t=>{const e=Number(t);return!isNaN(e)&&e>0}}},setup(t){const e={nord:{viewBox:"0 0 48 48"},downloadConfig:{viewBox:"0 0 48 48"},menu:{viewBox:"0 0 50 50"},default:{viewBox:"0 0 24 24"}},i=t,l=$(()=>{const o=e[i.name]||e.default,[,,d,c]=o.viewBox.split(" ").map(Number),b=d/Fe,O=Number(i.size);return{width:O*b,height:O*b}}),a=$(()=>(e[i.name]||e.default).viewBox);return(o,d)=>(g(),h("svg",Te(l.value,{viewBox:a.value,fill:"currentColor",role:"none","aria-hidden":"true"}),[r("path",{d:s(B)[t.name]},null,8,Eo)],16,wo))}},Co={class:"bg-nord-bg-overlay-light px-3 py-1.5 text-xs font-medium border-b border-vscode-active flex items-center justify-between text-nord-text-primary"},To={id:"qr-dialog-title"},_o={class:"p-6 flex justify-center"},So=["src","alt"],ko={key:4,class:"min-h-screen bg-vscode-bg text-vscode-text"},Ro={class:"sticky top-0 z-50 bg-vscode-header border-b border-vscode-active shadow-lg",role:"banner"},No={class:"flex flex-col sm:flex-row sm:items-center gap-2 p-2"},Oo={class:"flex items-center gap-2 flex-1",role:"navigation","aria-label":"Main navigation"},Io=["value"],Ao=["disabled"],Ko={key:0,value:""},$o=["value"],Po=["aria-pressed"],Lo=["aria-pressed"],Uo={class:"px-3 py-1.5 rounded bg-vscode-bg/50 border border-vscode-active/50",role:"status","aria-live":"polite"},zo={class:"text-xs text-nord-text-secondary font-semibold"},Mo={class:"flex-1 overflow-y-auto"},Do={class:"p-4 space-y-3"},Vo={class:"flex items-center gap-2"},Go={class:"flex items-center gap-2"},Bo={class:"p-4 space-y-3 border-t border-vscode-active bg-nord-bg-overlay/20"},Fo={href:"https://github.com/mustafachyi/NordVPN-WireGuard-Config-Generator",target:"_blank",rel:"noopener",class:"block px-4 py-2.5 rounded border border-nord-external-github/50 bg-nord-external-github/10 text-sm text-nord-external-github transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},jo={class:"flex items-center justify-center gap-2"},Ho={href:"https://refer-nordvpn.com/MXIVDoJGpKT",target:"_blank",rel:"noopener",class:"block px-4 py-2.5 rounded border border-nord-external-nord/50 bg-nord-external-nord/10 text-sm text-nord-external-nord transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},qo={class:"flex items-center justify-center gap-2"},Yo={class:"container mx-auto px-4 py-6",role:"main"},Xo={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 mx-auto"},Qo={key:0,class:"flex justify-center py-4"},Zo={__name:"App",setup(t){const{visibleServers:e,isLoading:i,sortBy:l,sortOrder:a,filterCountry:o,filterCity:d,countries:c,citiesForCountry:b,filteredCount:O,updateVisibleServers:m,loadMoreServers:w,toggleSort:v,loadServers:x}=it(),{configSettings:E,defaultConfig:C,loadSavedConfig:p,saveConfig:y,downloadConfig:f,copyConfig:_,lastToast:L}=dt(),{isPanelOpen:U,showScrollTop:W,showCustomizer:ae,showKeyGenerator:be,showQrCode:ye,qrCodeUrl:Je,selectedServer:Ie,closePanel:ee,togglePanel:ue,scrollToTop:Ae,openCustomizer:Ke,openKeyGenerator:$e,handleGenerateKey:We,handleShowQR:et,cleanup:tt}=vt(),{toast:he,show:te}=gt();we([l,a,o,d],m),we(o,z=>{d.value=z&&b.value.length===1?b.value[0]:""}),we(L,({message:z,type:n}={})=>z&&te(z,n||"info"));const Pe=at(()=>{const{innerHeight:z,scrollY:n}=window,{offsetHeight:oe}=document.documentElement;n>oe-z-1e3&&w(),W.value=n>500},100),ve=async(z,n={})=>{const oe={saveKey:async()=>{const{key:S}=n;if(!(S!=null&&S.trim()))throw new Error("Invalid key provided");return await y({...C,...E.value,privateKey:S.trim()}),be.value=!1,"Private key saved successfully"},saveConfig:async()=>{const{config:S}=n;if(!S)throw new Error("Invalid configuration");return await y(S),ae.value=!1,"Configuration saved"},download:async()=>{const{server:S}=n;if(!S)throw new Error("No server selected");return await f(S),"Configuration downloaded"},copy:async()=>{const{server:S}=n;if(!S)throw new Error("No server selected");return await _(S),"Configuration copied"}};try{te(await oe[z](),"success")}catch(S){te(S.message,"error")}};return Oe(async()=>{try{window.scrollTo(0,0),await Promise.all([x(),p()]),window.addEventListener("scroll",Pe)}catch{te("Unable to load application data","error")}}),je(()=>{window.removeEventListener("scroll",Pe),tt()}),(z,n)=>{var oe,S;return g(),h(re,null,[s(he)?(g(),pe(xo,Te({key:0},s(he),{onClose:n[0]||(n[0]=u=>he.value=null)}),null,16)):P("",!0),s(ye)?(g(),h("div",{key:1,class:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:n[3]||(n[3]=u=>ye.value=!1),role:"dialog","aria-modal":"true","aria-labelledby":"qr-dialog-title"},[n[22]||(n[22]=r("div",{class:"fixed inset-0 bg-nord-bg-overlay/50 backdrop-blur-sm"},null,-1)),r("div",{class:"relative bg-vscode-bg rounded-lg border border-vscode-active overflow-hidden max-w-sm w-full qr-dialog",onClick:n[2]||(n[2]=fe(()=>{},["stop"]))},[r("div",Co,[r("span",To,k((oe=s(Ie))==null?void 0:oe.name),1),r("button",{onClick:n[1]||(n[1]=u=>ye.value=!1),class:"p-1 rounded hover:bg-nord-bg-hover","aria-label":"Close QR code dialog"},[H(q,{name:"close",class:"w-3.5 h-3.5"})])]),r("div",_o,[r("img",{src:s(Je),alt:"WireGuard Configuration QR Code for server "+((S=s(Ie))==null?void 0:S.name),class:"w-[200px] h-[200px] rounded"},null,8,So)])])])):P("",!0),s(be)?(g(),pe(po,{key:2,onSave:n[4]||(n[4]=u=>ve("saveKey",{key:u})),onCancel:n[5]||(n[5]=u=>be.value=!1),onToast:n[6]||(n[6]=({message:u,type:F})=>s(te)(u,F))})):s(ae)?(g(),pe(Yt,{key:3,defaultConfig:s(C),savedConfig:s(E),onSave:n[7]||(n[7]=u=>ve("saveConfig",{config:u})),onCancel:n[8]||(n[8]=u=>ae.value=!1),onToast:n[9]||(n[9]=({message:u,type:F})=>s(te)(u,F))},null,8,["defaultConfig","savedConfig"])):(g(),h("div",ko,[r("header",Ro,[n[24]||(n[24]=r("h1",{class:"sr-only"},"NordVPN WireGuard Config Generator",-1)),r("div",No,[r("nav",Oo,[r("button",{onClick:n[10]||(n[10]=(...u)=>s(ue)&&s(ue)(...u)),onTouchstart:n[11]||(n[11]=fe((...u)=>s(ue)&&s(ue)(...u),["prevent"])),class:"shrink-0 min-w-touch min-h-touch p-2 flex items-center justify-center touch-manipulation focus:outline-none md:hover:bg-nord-bg-hover","aria-label":"Toggle navigation menu"},[H(q,{name:"menu",class:"w-5 h-5"})],32),r("div",{class:"flex gap-2 w-full sm:w-auto overflow-hidden",onClick:n[14]||(n[14]=(...u)=>s(ee)&&s(ee)(...u))},[me(r("select",{"onUpdate:modelValue":n[12]||(n[12]=u=>Ue(o)?o.value=u:null),class:N(["bg-vscode-bg border border-vscode-active rounded px-2 py-1.5 text-sm touch-pan-y transition-all duration-200",{"w-full sm:w-[200px]":!s(o),"w-[45%] sm:w-[200px]":s(o)}]),"aria-label":"Filter by country"},[n[23]||(n[23]=r("option",{value:""},"All Countries",-1)),(g(!0),h(re,null,le(s(c),u=>(g(),h("option",{key:u,value:u},k(s(de)(u)),9,Io))),128))],2),[[Ce,s(o)]]),r("div",{class:N(["overflow-hidden transition-[width] duration-200",s(o)?"w-[55%] sm:w-[200px]":"w-0"])},[me(r("select",{"onUpdate:modelValue":n[13]||(n[13]=u=>Ue(d)?d.value=u:null),disabled:s(b).length===1,class:"w-full bg-vscode-bg border border-vscode-active rounded px-2 py-1.5 text-sm disabled:opacity-50 disabled:cursor-not-allowed disabled:border-nord-text-secondary/30 touch-pan-y","aria-label":"Filter by city"},[s(b).length>1?(g(),h("option",Ko,"All Cities")):P("",!0),(g(!0),h(re,null,le(s(b),u=>(g(),h("option",{key:u,value:u},k(s(de)(u)),9,$o))),128))],8,Ao),[[Ce,s(d)]])],2)])]),r("div",{class:"flex items-center justify-end gap-2 text-xs",onClick:n[17]||(n[17]=(...u)=>s(ee)&&s(ee)(...u)),role:"group","aria-label":"Sort controls"},[r("button",{onClick:n[15]||(n[15]=u=>s(v)("load")),class:N(["min-w-[80px] px-3 py-1.5 rounded border border-vscode-active md:hover:bg-nord-bg-hover font-semibold",{"bg-nord-load-low-bg text-nord-load-low-text border-nord-load-low-text":s(l)==="load"&&s(a)==="asc","bg-nord-load-critical-bg text-nord-load-critical-text border-nord-load-critical-text":s(l)==="load"&&s(a)==="desc"}]),"aria-pressed":s(l)==="load","aria-label":"Sort by server load"},"By Load",10,Po),r("button",{onClick:n[16]||(n[16]=u=>s(v)("name")),class:N(["min-w-[80px] px-3 py-1.5 rounded border border-vscode-active md:hover:bg-nord-bg-hover font-semibold",{"bg-nord-load-medium-bg text-nord-load-medium-text border-nord-load-medium-text":s(l)==="name"&&s(a)==="asc","bg-nord-load-warning-bg text-nord-load-warning-text border-nord-load-warning-text":s(l)==="name"&&s(a)==="desc"}]),"aria-pressed":s(l)==="name","aria-label":"Sort alphabetically"},"A-Z",10,Lo),r("div",Uo,[r("span",zo,k(s(O))+" servers",1)])])])]),r("div",{class:N(["fixed inset-0 bg-nord-bg-overlay/30 z-30 transition-opacity duration-150",s(U)?"opacity-100":"opacity-0 pointer-events-none"]),onClick:n[18]||(n[18]=(...u)=>s(ee)&&s(ee)(...u))},null,2),r("aside",{class:N(["fixed inset-y-0 left-0 w-64 bg-vscode-header border-r border-vscode-active z-40 transition-transform duration-150 flex flex-col",s(U)?"translate-x-0":"-translate-x-full"]),role:"complementary","aria-label":"Settings panel"},[n[33]||(n[33]=r("div",{class:"sticky top-0 h-[115px] sm:h-14 bg-vscode-header"},null,-1)),r("div",Mo,[r("div",Do,[r("button",{onClick:n[19]||(n[19]=(...u)=>s(Ke)&&s(Ke)(...u)),class:"w-full min-h-touch px-4 py-2.5 rounded border border-vscode-active bg-nord-bg-overlay/20 text-sm transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},[n[26]||(n[26]=r("div",{class:"absolute inset-y-0 left-0 w-1 bg-vscode-accent transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),r("div",Vo,[H(q,{name:"settings",class:"w-4 h-4 text-vscode-accent"}),n[25]||(n[25]=r("span",null,"Customize Config",-1))])]),r("button",{onClick:n[20]||(n[20]=(...u)=>s($e)&&s($e)(...u)),class:"w-full min-h-touch px-4 py-2.5 rounded border border-vscode-active bg-nord-bg-overlay/20 text-sm transition-colors relative group overflow-hidden active:scale-[0.98] md:active:scale-100"},[n[28]||(n[28]=r("div",{class:"absolute inset-y-0 left-0 w-1 bg-vscode-accent transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),r("div",Go,[H(q,{name:"key",class:"w-4 h-4 text-vscode-accent"}),n[27]||(n[27]=r("span",null,"Generate Key",-1))])])])]),r("div",Bo,[r("a",Fo,[n[30]||(n[30]=r("div",{class:"absolute inset-y-0 left-0 w-1 bg-nord-external-github transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),r("div",jo,[H(q,{name:"github",class:"w-4 h-4"}),n[29]||(n[29]=r("span",null,"Star on GitHub",-1))])]),r("a",Ho,[n[32]||(n[32]=r("div",{class:"absolute inset-y-0 left-0 w-1 bg-nord-external-nord transform -translate-x-1 md:group-hover:translate-x-0 transition-transform"},null,-1)),r("div",qo,[H(q,{name:"nord",class:"w-4 h-4"}),n[31]||(n[31]=r("span",null,"Get Nord",-1))])])])],2),r("main",Yo,[n[35]||(n[35]=r("h2",{class:"sr-only"},"Available Servers",-1)),r("div",Xo,[(g(!0),h(re,null,le(s(e),u=>(g(),pe(St,Te({key:u.name,ref_for:!0},{name:u.displayName,country:u.displayCountry,city:u.displayCity,load:u.load},{onGenerateKey:F=>s(We)(u),onDownloadConfig:F=>ve("download",{server:u}),onCopyConfig:F=>ve("copy",{server:u}),onShowQr:F=>s(et)(u,()=>s(ce).generateQR(s(Re)(u,s(E))))}),null,16,["onGenerateKey","onDownloadConfig","onCopyConfig","onShowQr"]))),128))]),s(i)?(g(),h("div",Qo,n[34]||(n[34]=[r("div",{class:"w-6 h-6 border-2 border-vscode-accent border-t-transparent rounded-full animate-spin"},null,-1)]))):P("",!0)]),me(r("button",{onClick:n[21]||(n[21]=(...u)=>s(Ae)&&s(Ae)(...u)),class:"fixed bottom-4 right-4 min-w-touch min-h-touch p-2 rounded-full bg-vscode-header/90 backdrop-blur-sm border border-vscode-accent text-vscode-text shadow-lg z-50 md:hover:bg-nord-bg-hover","aria-label":"Scroll to top"},[H(q,{name:"arrowUp",class:"w-5 h-5"})],512),[[ot,s(W)]])]))],64)}}},Jo=rt(Zo);Jo.mount("#app");
